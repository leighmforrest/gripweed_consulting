---
import { getCollection } from "astro:content";
import BaseLayout from "../layouts/BaseLayout.astro";
import BlogPostCard from "../components/BlogPostCard.astro";

const allPosts = await getCollection("blog")
---

<BaseLayout>
  <section class="grid md:grid-cols-2 lg:grid-cols-3 gap-4 m-4">
        {allPosts.map(post => <BlogPostCard url={`/posts/${post.id}`} shortTitle={post.data.shortTitle} image={post.data.image}/>)}
  </section>
</BaseLayout>
